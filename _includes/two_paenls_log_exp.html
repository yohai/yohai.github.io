<style>
  .canvas-wrapper {
    width: 46%;
    min-width: 250px;
    aspect-ratio: 1 / 1;
    position: relative;
  }

  canvas {
    width: 100%;
    height: 100%;
    display: block;
    border: 1px solid #ccc;
    border-radius: 8px;
    touch-action: none;
  }

  .radio-buttons-top {
    font-size: 0.9em;
    display: flex;
    flex-direction: row;
    gap: 1em;           
    flex-wrap: wrap;    
    pointer-events: auto;
    align-items: center;
  }
  .radio-buttons-top label {
    cursor: pointer;
  }

  .arrow-block {
    width: 100px;
    flex-shrink: 0;
    z-index: 1; /* allow overflow visibility */
  }

  .radio-buttons-bottom label {
    font-size: 0.85em;
    margin-left: 20px;
  }
   .btn-group-toggle .btn {
    font-size: 0.7em;
    padding: 0.35em 0.75em;
  }
  .btn.disabled,
    .btn:disabled {
      pointer-events: none;
      opacity: 0.5;
    }
  @media (max-width: 600px) {
    #container-that-must-not-be-narrow {
      display: none !important;
    }
    #narrow-warning {
      display: block !important;
    }
  }
</style>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
<svg style="height: 0; width: 0;">
  <defs>
    <marker id="arrowhead"
            markerWidth="10" markerHeight="7"
            refX="10" refY="3.5"
            orient="auto"
            markerUnits="strokeWidth">
      <polygon points="0 0, 10 3.5, 0 7" fill="black" />
    </marker>
  </defs>
</svg>

<div class="container my-5" id="container-that-must-not-be-narrow">

  <!-- Controls Row -->
  <div class="d-flex justify-content-between align-items-start mb-3 flex-nowrap overflow-auto">
    
    <!-- Left Controls -->
    <div class="text-center" style="width: 46%; min-width: 250px;">
      <!-- Log Mode Toggle Buttons -->
      <div class="btn-group btn-group-toggle mb-3" data-toggle="buttons">
        <label class="btn btn-outline-primary btn-sm active">
          <input type="radio" name="logMode" value="multivalued" autocomplete="off"> log is multivalued
        </label>
        <label class="btn btn-outline-primary btn-sm">
          <input type="radio" name="logMode" value="branchcut" autocomplete="off" checked> log has a branch-cut
        </label>
      </div>

      <!-- Theta Range Toggle Buttons -->
      <div id="theta-group" class="btn-group btn-group-toggle mb-3" data-toggle="buttons">
        <label class="btn btn-outline-success btn-sm active">
          <input type="radio" name="thetaRange" value="mpi_pi" autocomplete="off" checked> −π &lt; θ &lt; π
        </label>
        <label class="btn btn-outline-success btn-sm">
          <input type="radio" name="thetaRange" value="zero_2pi" autocomplete="off"> 0 &lt; θ &lt; 2π
        </label>
        <label class="btn btn-outline-success btn-sm">
          <input type="radio" name="thetaRange" value="mpi1_pi1" autocomplete="off"> −π+1 &lt; θ &lt; π+1
        </label>
      </div>
    </div>

    <!-- Right Controls -->
    <div class="text-center" style="width: 46%; min-width: 250px;">
      <!-- Grid Mode Toggle Buttons -->
      <div  class="btn-group btn-group-toggle mb-3" data-toggle="buttons">
        <label class="btn btn-outline-primary btn-sm active">
          <input type="radio" name="gridMode" value="cartesian" autocomplete="off" checked> Cartesian
        </label>
        <label class="btn btn-outline-primary btn-sm">
          <input type="radio" name="gridMode" value="polar" autocomplete="off"> Polar
        </label>
      </div>
    </div>

  </div>
  <!-- Canvases + Arrows -->
  <div class="d-flex justify-content-between align-items-center flex-nowrap overflow-auto"> 
    <!-- Left Canvas -->
    <div class="canvas-wrapper">
      <canvas id="canvas1"></canvas>
    </div>

    <!-- Arrow Block -->
    <div class="arrow-block d-flex flex-column justify-content-center align-items-center mx-2 text-center">
      <div class="mb-1">Exp</div>
      <svg width="65" height="10">
        <line x1="0" y1="5" x2="65" y2="5" stroke="black" stroke-width="1.5" marker-end="url(#arrowhead)" />
      </svg>
      <svg width="65" height="10" class="mt-2">
        <line x1="65" y1="5" x2="0" y2="5" stroke="black" stroke-width="1.5" marker-end="url(#arrowhead)" />
      </svg>
      <div class="mt-1">Log</div>
    </div>

    <!-- Right Canvas -->
    <div class="canvas-wrapper">
      <canvas id="canvas2"></canvas>
    </div>
  </div>
</div>


<div id="narrow-warning" style="display: none; background: #eee; color: #555; text-align: center; padding: 2em; border-radius: 8px;">
  <div style="font-size: 2em; margin-bottom: 0.5em;">
    <i class="bi bi-phone"></i>
    <i class="bi bi-arrow-right mx-2"></i>
    <i class="bi bi-phone-landscape"></i>
  </div>
  Please view this on a wider screen <br>
  <small>(e.g., hold your phone sideways)</small>
</div>

